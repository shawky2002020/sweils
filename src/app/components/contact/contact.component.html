<form [formGroup]="contactForm" (ngSubmit)="sendEmail()">
  <div class="title">
    <h2>Contact Us</h2>
  </div>

  <div class="form-group">
    <label for="name">Your Name</label>
    <input type="text" id="name" formControlName="name" placeholder="Enter your name" />
    <small *ngIf="contactForm.controls['name'].invalid && contactForm.controls['name'].touched" class="error">
      Name is required (min 3 characters).
    </small>
  </div>

  <div class="form-group">
    <label for="email">Your Email</label>
    <input type="email" id="email" formControlName="email" placeholder="Enter your email" />
    <small *ngIf="contactForm.controls['email'].invalid && contactForm.controls['email'].touched" class="error">
      Valid email is required.
    </small>
  </div>

  <div class="form-group">
    <label for="message">Message</label>
    <textarea id="message" formControlName="message" placeholder="Write your message"></textarea>
    <small *ngIf="contactForm.controls['message'].invalid && contactForm.controls['message'].touched" class="error">
      Message must be at least 10 characters.
    </small>
  </div>

  <div class="btn">
    <button class="btn-grad" type="submit" [disabled]="loading || contactForm.invalid">
      {{ loading ? 'Sending...' : 'Send Message' }}
    </button>
  </div>

  <p *ngIf="statusMessage" [ngClass]="{ 'success': success, 'error': !success }">
    {{ statusMessage }}
  </p>
</form>
